<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Border [WAR] | Tactical Command</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
            --neon-red: #ff003c;
            --bg-dark: #020205;
        }

        body {
            background-color: var(--bg-dark);
            color: white;
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Tactical Animated Background */
        .bg-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at center, #0a0a20 0%, #020205 100%);
            overflow: hidden;
        }

        .grid-3d {
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background-image: 
                linear-gradient(to right, rgba(0, 243, 255, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 243, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            transform: perspective(500px) rotateX(60deg);
            animation: grid-move 20s linear infinite;
        }

        @keyframes grid-move {
            0% { transform: perspective(500px) rotateX(60deg) translateY(0); }
            100% { transform: perspective(500px) rotateX(60deg) translateY(50px); }
        }

        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(188, 19, 254, 0.05) 0%, transparent 40%),
                        radial-gradient(circle at 80% 70%, rgba(0, 243, 255, 0.05) 0%, transparent 40%);
        }

        .cyber-font { font-family: 'Orbitron', sans-serif; }

        /* Premium Card Design */
        .cyber-card {
            background: rgba(5, 5, 15, 0.9);
            border: 1px solid rgba(0, 243, 255, 0.3);
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 243, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 4px;
            position: relative;
        }

        /* Animated Custom Dropdown */
        .dropdown-container {
            position: relative;
            width: 100%;
            z-index: 50;
        }

        .dropdown-trigger {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--neon-blue);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 4px;
            color: var(--neon-blue);
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .dropdown-trigger:hover {
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
            background: rgba(0, 243, 255, 0.05);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            width: 100%;
            background: rgba(5, 5, 15, 0.95);
            border: 1px solid var(--neon-blue);
            border-radius: 4px;
            overflow: hidden;
            display: none;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
        }

        .dropdown-menu.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 243, 255, 0.1);
            text-transform: uppercase;
            font-size: 0.85rem;
            color: #ccc;
        }

        .dropdown-item:hover {
            background: rgba(0, 243, 255, 0.2);
            color: var(--neon-blue);
            padding-left: 1.5rem;
        }

        /* Buttons & Inputs */
        .neon-btn {
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            text-transform: uppercase;
            font-weight: 900;
            letter-spacing: 2px;
            transition: all 0.3s ease;
        }

        .neon-btn:hover:not(:disabled) {
            background: var(--neon-blue);
            color: black;
            box-shadow: 0 0 25px var(--neon-blue);
        }

        .shop-btn {
            background: rgba(255, 215, 0, 0.05);
            border: 1px solid #ffd700;
            color: #ffd700;
            transition: all 0.3s ease;
        }

        .shop-btn:hover {
            background: #ffd700;
            color: black;
            box-shadow: 0 0 20px #ffd700;
        }

        .input-tactical {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
        }

        .input-tactical:focus {
            border-color: var(--neon-purple);
            box-shadow: 0 0 10px rgba(188, 19, 254, 0.3);
            outline: none;
        }

        .hidden-section { display: none; }

        .rule-reveal {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, opacity 0.5s;
            opacity: 0;
        }

        .rule-reveal.active {
            max-height: 400px;
            opacity: 1;
        }

        .chevron {
            transition: transform 0.3s ease;
        }

        .chevron.rotated {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="bg-container">
        <div class="grid-3d"></div>
        <div class="floating-particles"></div>
    </div>

    <!-- Header -->
    <header class="text-center mb-12 relative z-10">
        <h1 class="cyber-font text-5xl md:text-7xl font-black italic tracking-tighter" style="color: var(--neon-blue); text-shadow: 0 0 20px rgba(0,243,255,0.5);">
            BORDER [WAR]
        </h1>
        <div class="flex items-center justify-center gap-4 mt-2 opacity-70">
            <div class="h-[1px] w-20 bg-gradient-to-r from-transparent to-cyan-500"></div>
            <span class="text-[10px] tracking-[0.5em] uppercase font-bold text-cyan-400">Tactical Data Link</span>
            <div class="h-[1px] w-20 bg-gradient-to-l from-transparent to-cyan-500"></div>
        </div>
    </header>

    <!-- Main App Container -->
    <main class="max-w-2xl mx-auto cyber-card p-6 md:p-10 relative z-10">
        <!-- Custom Animated Dropdown -->
        <div class="flex flex-col md:flex-row gap-4 mb-10">
            <div class="flex-grow">
                <label class="block text-[10px] uppercase font-black text-cyan-600 mb-2 ml-1 tracking-widest">Operation Category</label>
                <div class="dropdown-container">
                    <div id="dropdownTrigger" class="dropdown-trigger cyber-font text-xs" onclick="toggleDropdown()">
                        <span id="selectedOption">-- SELECT PROTOCOL --</span>
                        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                    </div>
                    <div id="dropdownMenu" class="dropdown-menu cyber-font">
                        <div class="dropdown-item" onclick="selectOption('REPORT SOMTHING', 'GENERAL REPORT')">GENERAL REPORT</div>
                        <div class="dropdown-item" onclick="selectOption('REPORT PLAYER', 'PLAYER VIOLATION')">PLAYER VIOLATION</div>
                        <div class="dropdown-item" onclick="selectOption('REPORT BUG', 'SYSTEM ANOMALY (BUG)')">SYSTEM ANOMALY (BUG)</div>
                        <div class="dropdown-item" onclick="selectOption('SUGGESTIONS', 'STRATEGIC INTEL')">STRATEGIC INTEL</div>
                    </div>
                </div>
            </div>
            
            <div class="flex items-end">
                <a href="https://www.roblox.com/games/96273774381773/Border-UPDATE#!/store" target="_blank" class="shop-btn px-8 py-4 rounded cyber-font text-xs font-bold w-full md:w-auto text-center">
                    GAMEPASS SHOP
                </a>
            </div>
        </div>

        <!-- Hidden input to track selected value -->
        <input type="hidden" id="reportType" value="">

        <!-- Dynamic Rule Section -->
        <div id="ruleContainer" class="rule-reveal bg-purple-950/20 border-l-4 border-purple-500 rounded-r mb-8">
            <div class="p-4">
                <div class="flex items-center gap-2 mb-2">
                    <span class="w-2 h-2 bg-purple-500 rounded-full animate-ping"></span>
                    <span class="text-purple-400 font-bold text-[10px] uppercase tracking-tighter">Mission Briefing</span>
                </div>
                <p id="ruleText" class="text-gray-300 text-sm italic mb-4"></p>
                <label class="flex items-center gap-3 cursor-pointer group">
                    <input type="checkbox" id="agreeCheck" onchange="toggleForm()" class="w-4 h-4 accent-purple-600">
                    <span class="text-[10px] text-purple-300 uppercase group-hover:text-white transition-colors">I accept tactical responsibility</span>
                </label>
            </div>
        </div>

        <!-- Main Submission Form -->
        <div id="mainForm" class="hidden-section space-y-6">
            
            <!-- Target Input (Only for REPORT PLAYER) -->
            <div id="playerSection" class="hidden-section">
                <label class="block text-[10px] uppercase font-black text-cyan-600 mb-2 tracking-widest">Target Designation</label>
                <div class="flex gap-2">
                    <input type="text" id="robloxUser" placeholder="Roblox Username..." class="flex-grow input-tactical p-4 rounded text-sm">
                    <button id="lockBtn" onclick="lockUser()" class="px-6 bg-cyan-950/40 border border-cyan-500 text-cyan-400 text-[10px] font-bold rounded hover:bg-cyan-500 hover:text-white transition-all">
                        VERIFY ID
                    </button>
                </div>
            </div>

            <!-- Content -->
            <div>
                <label class="block text-[10px] uppercase font-black text-cyan-600 mb-2 tracking-widest">Transmission Content</label>
                <textarea id="textContent" placeholder="Enter detailed report data..." class="w-full h-32 input-tactical p-4 rounded text-sm resize-none"></textarea>
            </div>

            <!-- Evidence -->
            <div>
                <label class="block text-[10px] uppercase font-black text-cyan-600 mb-2 tracking-widest">Visual Intel (Image)</label>
                <label for="imgInput" class="flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-800 rounded hover:border-cyan-500 hover:bg-cyan-500/5 transition-all cursor-pointer group">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600 group-hover:text-cyan-400 mb-2"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
                    <span id="fileName" class="text-[10px] text-gray-500 group-hover:text-cyan-400 font-bold uppercase tracking-widest">Upload Static Image</span>
                </label>
                <input type="file" id="imgInput" accept="image/*" class="hidden" onchange="updateFileDisplay()">
            </div>

            <!-- Submit -->
            <button id="submitBtn" onclick="initiateTransmission()" class="w-full py-5 neon-btn cyber-font text-lg shadow-lg">
                INITIATE TRANSMISSION
            </button>
        </div>
    </main>

    <!-- Status -->
    <div id="statusPopup" class="fixed bottom-8 left-1/2 -translate-x-1/2 opacity-0 transition-all duration-500 z-50">
        <div id="statusText" class="bg-black border px-8 py-3 rounded-full cyber-font text-[10px] tracking-widest shadow-2xl"></div>
    </div>

    <script>
        const hook = 'https://discord.com/api/webhooks/1451490260012761091/mrTBpRpCfRhgzv4mvyMwpyRv4RXxp0guB_XmsIi9hH9omm-FQUbbNg3PQZYl_N4eNz3U';
        let userLocked = false;

        const briefs = {
            "REPORT SOMTHING": "Standard reporting procedure. Ensure clear communication of findings.",
            "REPORT PLAYER": "DISCIPLINARY ACTION: Required - Target Roblox ID and high-definition image evidence.",
            "REPORT BUG": "Technical diagnostic report. Describe the anomaly and reproduction steps.",
            "SUGGESTIONS": "Strategic development intel. Submit improvements for operational efficiency."
        };

        // Custom Dropdown Logic
        function toggleDropdown() {
            const menu = document.getElementById('dropdownMenu');
            const chevron = document.querySelector('.chevron');
            menu.classList.toggle('active');
            chevron.classList.toggle('rotated');
        }

        function selectOption(value, label) {
            document.getElementById('selectedOption').innerText = label;
            document.getElementById('reportType').value = value;
            toggleDropdown();
            handleTypeChange(value);
        }

        // Close dropdown when clicking outside
        window.onclick = function(event) {
            if (!event.target.closest('.dropdown-container')) {
                const menu = document.getElementById('dropdownMenu');
                const chevron = document.querySelector('.chevron');
                if (menu.classList.contains('active')) {
                    menu.classList.remove('active');
                    chevron.classList.remove('rotated');
                }
            }
        }

        function handleTypeChange(val) {
            const container = document.getElementById('ruleContainer');
            const text = document.getElementById('ruleText');
            const pSection = document.getElementById('playerSection');
            
            text.innerText = briefs[val];
            container.classList.add('active');
            
            document.getElementById('agreeCheck').checked = false;
            document.getElementById('mainForm').classList.add('hidden-section');
            
            if(val === "REPORT PLAYER") {
                pSection.classList.remove('hidden-section');
            } else {
                pSection.classList.add('hidden-section');
            }
            
            resetUser();
        }

        function toggleForm() {
            const ok = document.getElementById('agreeCheck').checked;
            const form = document.getElementById('mainForm');
            if(ok) {
                form.classList.remove('hidden-section');
                form.scrollIntoView({ behavior: 'smooth' });
            } else {
                form.classList.add('hidden-section');
            }
        }

        function updateFileDisplay() {
            const file = document.getElementById('imgInput').files[0];
            const display = document.getElementById('fileName');
            if(file) {
                if(!file.type.startsWith('image/')) {
                    toast("ERROR: NON-IMAGE FORMAT DETECTED", "var(--neon-red)");
                    document.getElementById('imgInput').value = "";
                    display.innerText = "Upload Static Image";
                    return;
                }
                display.innerText = file.name.toUpperCase();
                display.classList.replace('text-gray-500', 'text-cyan-400');
            }
        }

        function lockUser() {
            const input = document.getElementById('robloxUser');
            if(!input.value.trim()) return toast("ERROR: TARGET NAME REQUIRED", "var(--neon-red)");
            userLocked = true;
            input.disabled = true;
            document.getElementById('lockBtn').innerText = "VERIFIED âœ“";
            document.getElementById('lockBtn').style.borderColor = "var(--neon-blue)";
            toast("ID VERIFIED IN DATABASE", "var(--neon-blue)");
        }

        function resetUser() {
            userLocked = false;
            const input = document.getElementById('robloxUser');
            input.disabled = false;
            input.value = "";
            document.getElementById('lockBtn').innerText = "VERIFY ID";
        }

        function toast(msg, color) {
            const pop = document.getElementById('statusPopup');
            const txt = document.getElementById('statusText');
            txt.innerText = msg;
            txt.style.borderColor = color;
            txt.style.color = color;
            pop.style.opacity = "1";
            pop.style.bottom = "32px";
            setTimeout(() => { pop.style.opacity = "0"; pop.style.bottom = "20px"; }, 3000);
        }

        async function initiateTransmission() {
            const type = document.getElementById('reportType').value;
            const content = document.getElementById('textContent').value;
            const file = document.getElementById('imgInput').files[0];
            const user = document.getElementById('robloxUser').value;
            const btn = document.getElementById('submitBtn');

            if(!content.trim()) return toast("ERROR: BUFFER EMPTY", "var(--neon-red)");
            if(type === "REPORT PLAYER") {
                if(!userLocked) return toast("ERROR: ID VERIFICATION REQUIRED", "var(--neon-red)");
                if(!file) return toast("ERROR: VISUAL EVIDENCE REQUIRED", "var(--neon-red)");
            }

            btn.disabled = true;
            btn.innerText = "ENCRYPTING DATA...";

            const formData = new FormData();
            const payload = {
                embeds: [{
                    title: `[LINK ESTABLISHED] - ${type}`,
                    color: type === 'REPORT PLAYER' ? 16711740 : 62463,
                    fields: [
                        { name: "PROTOCOL", value: type, inline: true },
                        { name: "TARGET", value: user || "NOT APPLICABLE", inline: true },
                        { name: "INTEL DATA", value: content }
                    ],
                    footer: { text: "SECURE CHANNEL - BORDER [WAR] COMMAND" },
                    timestamp: new Date().toISOString()
                }]
            };

            formData.append('payload_json', JSON.stringify(payload));
            if(file) formData.append('file', file);

            try {
                const res = await fetch(hook, { method: 'POST', body: formData });
                if(res.ok) {
                    toast("TRANSMISSION SUCCESSFUL", "var(--neon-blue)");
                    document.getElementById('textContent').value = "";
                    document.getElementById('imgInput').value = "";
                    document.getElementById('fileName').innerText = "Upload Static Image";
                    // Reset custom dropdown UI
                    document.getElementById('selectedOption').innerText = "-- SELECT PROTOCOL --";
                    document.getElementById('reportType').value = "";
                    document.getElementById('ruleContainer').classList.remove('active');
                    document.getElementById('mainForm').classList.add('hidden-section');
                    resetUser();
                } else { throw new Error(); }
            } catch (e) {
                toast("SIGNAL LOST: RETRY LATER", "var(--neon-red)");
            } finally {
                btn.disabled = false;
                btn.innerText = "INITIATE TRANSMISSION";
            }
        }
    </script>
</body>
</html>
